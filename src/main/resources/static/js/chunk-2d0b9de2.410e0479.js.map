{"version":3,"sources":["webpack:///./src/views/HomeworkEdit.vue?e132","webpack:///src/views/HomeworkEdit.vue","webpack:///./src/views/HomeworkEdit.vue?33a4","webpack:///./src/views/HomeworkEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","subjectName","noticeTitle","slot","userName","_m","_l","index","key","staticStyle","on","$event","canvasOnLoad","paginationTotal","model","value","callback","$$v","paginationDefault","expression","directives","name","rawName","domProps","target","composing","feedback","_v","score","homeworkSubmit","modals","_s","responseMsg","modals2","goNoti","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0b9de2.410e0479.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-header',{staticClass:\"pb-6 pb-8 pt-5 pt-md-8\",attrs:{\"type\":\"gradient-success\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-12 col-lg-12\"},[_c('stats-card',{staticClass:\"mb-4 mb-xl-0\",attrs:{\"title\":\"과제 제목\",\"type\":\"gradient-red\",\"sub-title\":_vm.subjectName + ' > ' + _vm.noticeTitle,\"icon\":\"ni ni-air-baloon\"}},[_c('template',{slot:\"footer\"})],2)],1)]),_c('br'),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-12 col-lg-12\"},[_c('stats-card',{staticClass:\"mb-4 mb-xl-0\",attrs:{\"title\":\"제출자\",\"type\":\"gradient-red\",\"sub-title\":_vm.userName + '',\"icon\":\"ni ni-circle-08\"}},[_c('template',{slot:\"footer\"})],2)],1)])]),_c('div',{staticClass:\"container-fluid mt--7\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card shadow\"},[_vm._m(0),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row icon-examples\"},[_c('div',{staticClass:\"col-md-12\"},[_vm._m(1),_vm._l((_vm.paginationTotal),function(index){return _c('div',{key:index},[_c('iframe',{staticStyle:{\"display\":\"none\",\"width\":\"100%\",\"height\":\"870px\",\"margin-top\":\"-50px\"},attrs:{\"id\":\"homeworkCanvasIframe\",\"name\":\"homeworkCanvasIframe\",\"scrolling\":\"no\",\"src\":\"canvas_resource/canvas.html\"},on:{\"load\":function($event){return _vm.canvasOnLoad()}}})])})],2),_c('div',[_c('base-pagination',{attrs:{\"align\":\"center\",\"page-count\":_vm.paginationTotal},model:{value:(_vm.paginationDefault),callback:function ($$v) {_vm.paginationDefault=$$v},expression:\"paginationDefault\"}}),_c('br'),_c('br')],1),_c('br'),_c('br'),_c('br'),_c('br'),_c('form',{staticStyle:{\"width\":\"100%\"}},[_c('div',{staticClass:\"col-md-12\"},[_vm._m(2),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.feedback),expression:\"feedback\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"rows\":\"3\",\"placeholder\":\"피드백을 남겨주세요.\"},domProps:{\"value\":(_vm.feedback)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.feedback=$event.target.value}}})]),_c('br'),_c('br'),_c('div',{staticClass:\"col-md-3\"},[_vm._m(3),_c('span',{staticClass:\"text-nowrap\"},[_vm._v(\"※ 이 과제의 최대 점수는 100점 입니다.\")]),_c('br'),_c('br'),_c('base-input',{attrs:{\"placeholder\":\"점수\"},model:{value:(_vm.score),callback:function ($$v) {_vm.score=$$v},expression:\"score\"}})],1),_c('br'),_c('br'),_c('div',{staticClass:\"col-md-3\"},[_c('base-button',{attrs:{\"type\":\"primary\",\"icon\":\"ni ni-bag-17\"},on:{\"click\":function($event){return _vm.homeworkSubmit()}}},[_vm._v(\"평가 제출\")])],1)]),_c('br')])])])])])]),_c('modal',{attrs:{\"show\":_vm.modals},on:{\"update:show\":function($event){_vm.modals=$event}}},[_c('template',{slot:\"header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"알림\")])]),_c('div',[_vm._v(\" \"+_vm._s(_vm.responseMsg)+\" \")]),_c('template',{slot:\"footer\"},[_c('base-button',{attrs:{\"type\":\"secondary\"},on:{\"click\":function($event){_vm.modals = false}}},[_vm._v(\"확인\")])],1)],2),_c('modal',{attrs:{\"show\":_vm.modals2},on:{\"update:show\":function($event){_vm.modals2=$event}}},[_c('template',{slot:\"header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel2\"}},[_vm._v(\"알림\")])]),_c('div',[_vm._v(\" 채점이 완료되었습니다. \")]),_c('template',{slot:\"footer\"},[_c('base-button',{attrs:{\"type\":\"secondary\"},on:{\"click\":function($event){return _vm.goNoti()}}},[_vm._v(\"확인\")])],1)],2)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header bg-transparent\"},[_c('h3',{staticClass:\"mb-0\"},[_vm._v(\"채점하기\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_c('i',{staticClass:\"ni ni-ruler-pencil\"}),_vm._v(\" 채점\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_c('i',{staticClass:\"ni ni-chat-round\"}),_vm._v(\" 피드백\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_c('i',{staticClass:\"ni ni-paper-diploma\"}),_vm._v(\" 평가\")])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <base-header type=\"gradient-success\" class=\"pb-6 pb-8 pt-5 pt-md-8\">\n            <!-- Card stats -->\n            <div class=\"row\">\n                <div class=\"col-xl-12 col-lg-12\">\n                    <stats-card title=\"과제 제목\"\n                                type=\"gradient-red\"\n                                v-bind:sub-title=\"subjectName + ' > ' + noticeTitle\"\n                                icon=\"ni ni-air-baloon\"\n                                class=\"mb-4 mb-xl-0\"\n                    >\n\n                        <template slot=\"footer\">\n                            <!--span class=\"text-success mr-2\"><i class=\"fa fa-arrow-up\"></i> 제출자</span>\n                            <span class=\"text-nowrap\">2020.01.11~2020.01.17</span-->\n                        </template>\n                    </stats-card>\n                </div>\n            </div>\n            <br/>\n            <div class=\"row\">\n                <div class=\"col-xl-12 col-lg-12\">\n                    <stats-card title=\"제출자\"\n                                type=\"gradient-red\"\n                                v-bind:sub-title=\"userName + ''\"\n                                icon=\"ni ni-circle-08\"\n                                class=\"mb-4 mb-xl-0\"\n                    >\n\n                        <template slot=\"footer\">\n                            <!-- span class=\"text-success mr-2\"><i class=\"fa fa-arrow-up\"></i> </span-->\n                            <!--span class=\"text-nowrap\">1학년 7반</span-->\n                        </template>\n                    </stats-card>\n                </div>\n            </div>\n        </base-header>\n\n\n        <div class=\"container-fluid mt--7\">\n            <div class=\"row\">\n                <div class=\"col\">\n                    <div class=\"card shadow\">\n                        <div class=\"card-header bg-transparent\">\n                            <h3 class=\"mb-0\">채점하기</h3>\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"row icon-examples\">\n\n                                <!--base-button type=\"primary\">\n                                    <span>80점</span>\n                                    <badge type=\"white\">만점 : 100</badge>\n                                </base-button-->\n                                <div class=\"col-md-12\">\n                                <h2><i class=\"ni ni-ruler-pencil\"></i> 채점</h2>\n                                    <div v-for=\"index in paginationTotal\" :key=\"index\">\n                                    <iframe id=\"homeworkCanvasIframe\" name=\"homeworkCanvasIframe\" style=\"display: none;width:100%;height:870px;margin-top:-50px;\" scrolling=\"no\" src=\"canvas_resource/canvas.html\" v-on:load=\"canvasOnLoad()\">\n                                    </iframe>\n                                    </div>\n                                </div>\n\n                                <div>\n                                    <base-pagination align=\"center\" :page-count=\"paginationTotal\" v-model=\"paginationDefault\"></base-pagination>\n                                    <br/>\n                                    <br/>\n                                </div>\n\n                                <br/>\n                                <br/>\n                                <br/>\n                                <br/>\n\n                                <!-- 폼 -->\n                                <form style=\"width:100%;\">\n                                    <div class=\"col-md-12\">\n                                        <h2><i class=\"ni ni-chat-round\"></i> 피드백</h2>\n                                        <textarea style=\"width:100%;\" class=\"form-control\" rows=\"3\" placeholder=\"피드백을 남겨주세요.\"\n                                          v-model=\"feedback\"></textarea>\n                                    </div>\n\n                                    <br/>\n                                    <br/>\n\n                                    <div class=\"col-md-3\">\n                                        <h2><i class=\"ni ni-paper-diploma\"></i> 평가</h2>\n                                        <span class=\"text-nowrap\">※ 이 과제의 최대 점수는 100점 입니다.</span>\n                                        <br/>\n                                        <br/>\n\n                                        <base-input v-model=\"score\" placeholder=\"점수\"></base-input>\n                                    </div>\n\n                                    <br/>\n                                    <br/>\n\n                                    <div class=\"col-md-3\">\n                                        <base-button type=\"primary\" icon=\"ni ni-bag-17\" @click=\"homeworkSubmit()\">평가 제출</base-button>\n\n                                        <!--base-button type=\"info\" icon=\"ni ni-bag-17\" @click=\"getHistoryData(0)\">히스토리 불러보기</base-button-->\n\n                                    </div>\n\n                                </form>\n                                <br/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <modal :show.sync=\"modals\">\n            <template slot=\"header\">\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">알림</h5>\n            </template>\n            <div>\n                {{responseMsg}}\n            </div>\n            <template slot=\"footer\">\n                <base-button type=\"secondary\" @click=\"modals = false\">확인</base-button>\n                <!--base-button type=\"primary\">Save changes</base-button-->\n            </template>\n        </modal>\n\n        <modal :show.sync=\"modals2\">\n            <template slot=\"header\">\n                <h5 class=\"modal-title\" id=\"exampleModalLabel2\">알림</h5>\n            </template>\n            <div>\n                채점이 완료되었습니다.\n            </div>\n            <template slot=\"footer\">\n                <base-button type=\"secondary\" @click=\"goNoti()\">확인</base-button>\n                <!--base-button type=\"primary\">Save changes</base-button-->\n            </template>\n        </modal>\n\n    </div>\n</template>\n<script>\n    import Vue from 'vue'\n    import VueClipboard from 'vue-clipboard2'\n    import BTooltipDirective from 'bootstrap-vue/esm/directives/tooltip'\n\n    const axios = require('axios');\n\n    Vue.use(VueClipboard)\n    export default {\n        directives: {\n            'b-tooltip': BTooltipDirective\n        },\n        data() {\n            return {\n                homeworkCanvasData : [],\n                icons: [\n                    { name: \"ni ni-air-baloon\" }\n                ],\n                //pagination: {\n                //    default: 1,\n                //    total: 5\n                //},\n                paginationDefault: 1,\n                paginationTotal: 5,\n\n                isAssignMaster: '',\n\n                assignmentFileList: [],\n                assignmentId: '',\n                feedback: '',\n                isOpen: false,\n                note: '',\n                score: '',\n                userName: '',//과제 제출학생의 네임값\n                userId: '',//과제 제출학생의 아이디값\n                subjectId: '',\n                subjectName: '',\n                noticeId: '',\n                noticeTitle: '',\n\n                modals: false,\n                modals1: false,\n                modals2: false,\n                modals3: false,\n                modals4: false,\n                responseMsg: ''\n            }\n        },\n        watch: {\n            paginationDefault(newVal) {\n                console.log(\"watch \" + newVal);\n                this.movePage(newVal);\n            }\n        },\n        created() {\n            this.getAssignment();\n        },\n        mounted() {\n            this.homeworkCanvasData.push(\n                {\n                    //id : 1,\n                    //page : 1,\n                    //bgImg : '',\n                    //data : '',\n\n                    assignmentFileId : 1,\n                    type : 'ORIGINAL',\n                    fileString : '',\n                    historyFileString : ''\n                });\n            //this.sendCanvas(this.homeworkCanvasData[0]);\n        },\n        methods: {\n            goNoti(){\n                this.modals2 = false;\n                location.href = \"/#/notice/\" + this.noticeId;\n            },\n            movePage(page){\n                console.log(\"movePage : \" + page);\n                let canvasIframe = document.getElementsByName(\"homeworkCanvasIframe\");\n                for(let i = 0; i < this.paginationTotal; i++){\n                    if(i == (page - 1)){\n                        canvasIframe[i].style.display = 'block';\n                    }\n                    else{\n                        canvasIframe[i].style.display = 'none';\n                    }\n                }\n            },\n            getAssignment(){\n                let vm = this;\n\n                //로그인 유효성 체크\n                if(localStorage.getItem('userId') == '' ||\n                    localStorage.getItem('userId') == null){\n                    this.responseMsg = \"로그인이 필요한 서비스 입니다. 로그인 후 다시 시도해 주세요!\";\n                    this.modals = true;\n                    return;\n                }\n\n                axios.get('/api/assignments/' + this.$route.params.assignId)\n                    .then(function(response){\n                        if(response.data.statusCode == 'OK'){\n                            vm.assignmentFileList = response.data.data.assignmentFileList;\n                            vm.assignmentId = response.data.data.assignmentId;\n                            vm.feedback = response.data.data.feedback;\n                            vm.isOpen = response.data.data.isOpen;\n                            vm.note = response.data.data.note;\n                            vm.score = response.data.data.score;\n                            vm.userId = response.data.data.userId;\n                            vm.subjectId = response.data.data.subjectId;\n                            vm.subjectName = response.data.data.subjectName;\n                            vm.noticeId = response.data.data.noticeId;\n                            vm.noticeTitle = response.data.data.noticeTitle;\n\n                            if(vm.assignmentId == localStorage.getItem('userId')){\n                                vm.isAssignMaster = true;\n                            }\n\n                            vm.paginationTotal = response.data.data.assignmentFileList.length;\n                            if(vm.paginationTotal > 0){\n                                vm.movePage(1);\n                            }\n\n                            vm.canvasOnLoad();\n\n                            //for(let i = 0; i < vm.assignmentFileList.length; i++){\n\n                            //}\n\n                        }\n                        else{\n                            vm.modals = true;\n                            vm.responseMsg = response.data.message;\n                        }\n                    });\n            },\n\n\n\n            onCopy() {\n                this.$notify({\n                    type: 'success',\n                    title: 'Copied to clipboard'\n                })\n            },\n            sendCanvas(canvasData, idx) {\n                //alert(canvasData);\n                let canvasIframe = document.getElementsByName(\"homeworkCanvasIframe\")[idx];\n                let responData = canvasIframe.contentWindow.loadData(canvasData);//\n                //let responData = canvasIframe.contentWindow.loadData(this.assignmentFileList[0]);\n                console.log(\"응답입니다 \" + responData);\n            },\n            getHistoryData(idx){\n                let canvasIframe = document.getElementsByName(\"homeworkCanvasIframe\")[idx];\n                let responData = canvasIframe.contentWindow.getHistoryData();\n\n                this.assignmentFileList[idx].historyFileString = responData;\n                console.log(\"히스토리 내역입니다\" + responData);\n                return responData;\n            },\n            canvasOnLoad(){\n                //this.sendCanvas(this.assignmentFileList[0]);\n                //let canvasIframe = document.getElementsByName(\"homeworkCanvasIframe\");\n                for(let i = 0; i < this.paginationTotal; i++){\n                    this.sendCanvas(this.assignmentFileList[i], i);\n                }\n            },\n\n\n\n\n\n\n\n            homeworkSubmit(){\n                let vm = this;\n                const axiosConfig = { headers:{ \"Content-Type\": \"application/json\"} };\n\n                axios.put('/api/assignments/' + this.$route.params.assignId,\n                    '{' +\n                    '\"feedback\": \"' + vm.feedback.replace(/(?:\\r\\n|\\r|\\n)/g, '<br/>') + '\",' +\n                    '\"noticeId\": \"' + vm.noticeId + '\",' +\n                    '\"score\": \"' + vm.score + '\",' +\n                    '\"subjectId\": \"' + vm.subjectId + '\",' +\n                    '\"userId\": \"' + vm.userId + '\"' +\n                    '}'\n                    , axiosConfig)\n                    .then(function(response){\n                        if(response.data.statusCode == 'OK'){\n\n                            vm.homeworkFileSubmit(response.data.data.id);\n                        }\n                        else{\n                            vm.modals = true;\n                            vm.responseMsg = response.data.message;\n                        }\n                    });\n            },\n            homeworkFileSubmit(assId){\n                let vm = this;\n                let base64Str = '';\n                let base64Flag = false;\n\n                for(let i = 0; i < this.assignmentFileList.length; i++){\n                    base64Flag = true;\n                    base64Str += '{ \"assignmentId\" : \"' + assId + '\",';//assignmentFileId\n                    base64Str += ' \"assignmentFileId\" : \"' + this.assignmentFileList[i].assignmentFileId + '\",';//assignmentFileId\n                    base64Str += '  \"historyFileString\" : \"' + this.getHistoryData(i) + '\",';\n                    base64Str += '  \"type\" : \"ORIGINAL\",';\n                    base64Str += '  \"userId\" : \"' + vm.userId + '\"},';\n                }\n                if(base64Flag == true){\n                    base64Str = base64Str.substr(0, base64Str.length -1);\n                }\n                const axiosConfig = { headers:{ \"Content-Type\": \"application/json\"} };\n\n                axios.put('/api/assignment_files/',\n                    '[' + base64Str + ']'\n                    , axiosConfig)\n                    .then(function(response){\n                        if(response.data.statusCode == 'OK'){\n                            vm.modals2 = true;\n                        }\n                        else{\n                            vm.modals = true;\n                            vm.responseMsg = response.data.message;\n                        }\n                    });\n            }\n        }\n    };\n/*\n\n    function sendCanvas(canvasData){\n        var canvasIframe = document.getElementById(\"homeworkCanvasIframe\");\n        canvasIframe.contentWindow.loadData(canvasData);\n    }\n\n */\n</script>\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeworkEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeworkEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeworkEdit.vue?vue&type=template&id=55d122f3&\"\nimport script from \"./HomeworkEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeworkEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}